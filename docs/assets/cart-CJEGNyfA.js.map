{"version":3,"file":"cart-CJEGNyfA.js","sources":["../../src/stores/cart.ts"],"sourcesContent":["import { defineStore } from 'pinia';\r\nimport type { Product } from '@/types/product';\r\n\r\ninterface CartItem extends Product {\r\n  quantity: number;\r\n}\r\n\r\nexport const useCartStore = defineStore('cart', {\r\n  state: () => ({\r\n    items: [] as CartItem[],\r\n  }),\r\n\r\n  getters: {\r\n    totalItems: (state) =>\r\n      state.items.reduce((sum, item) => sum + item.quantity, 0),\r\n\r\n    totalAmount: (state) =>\r\n      state.items.reduce((sum, item) => sum + item.price * item.quantity, 0),\r\n  },\r\n\r\n  actions: {\r\n    addToCart(product: Product) {\r\n      const existingItem = this.items.find(item => item.id === product.id);\r\n      if (existingItem) {\r\n        existingItem.quantity += 1;\r\n      } else {\r\n        this.items.push({ ...product, quantity: 1 });\r\n      }\r\n      this.saveToLocalStorage();\r\n    },\r\n\r\n    removeFromCart(productId: number) {\r\n      this.items = this.items.filter(item => item.id !== productId);\r\n      this.saveToLocalStorage();\r\n    },\r\n\r\n    updateQuantity(productId: number, change: number) {\r\n      const item = this.items.find(item => item.id === productId);\r\n      if (item) {\r\n        item.quantity = Math.max(1, item.quantity + change);\r\n        this.saveToLocalStorage();\r\n      }\r\n    },\r\n\r\n    clearCart() {\r\n      this.items = [];\r\n      this.saveToLocalStorage();\r\n    },\r\n\r\n    saveToLocalStorage() {\r\n      localStorage.setItem('cart', JSON.stringify(this.items));\r\n    },\r\n\r\n    loadFromLocalStorage() {\r\n      const savedItems = localStorage.getItem('cart');\r\n      if (savedItems) {\r\n        this.items = JSON.parse(savedItems);\r\n      }\r\n    },\r\n  },\r\n});\r\n"],"names":["useCartStore","defineStore","state","sum","item","product","existingItem","productId","change","savedItems"],"mappings":"uCAOa,MAAAA,EAAeC,EAAY,OAAQ,CAC9C,MAAO,KAAO,CACZ,MAAO,CAAA,CAAC,GAGV,QAAS,CACP,WAAaC,GACXA,EAAM,MAAM,OAAO,CAACC,EAAKC,IAASD,EAAMC,EAAK,SAAU,CAAC,EAE1D,YAAcF,GACZA,EAAM,MAAM,OAAO,CAACC,EAAKC,IAASD,EAAMC,EAAK,MAAQA,EAAK,SAAU,CAAC,CACzE,EAEA,QAAS,CACP,UAAUC,EAAkB,CACpB,MAAAC,EAAe,KAAK,MAAM,QAAaF,EAAK,KAAOC,EAAQ,EAAE,EAC/DC,EACFA,EAAa,UAAY,EAEzB,KAAK,MAAM,KAAK,CAAE,GAAGD,EAAS,SAAU,EAAG,EAE7C,KAAK,mBAAmB,CAC1B,EAEA,eAAeE,EAAmB,CAChC,KAAK,MAAQ,KAAK,MAAM,OAAeH,GAAAA,EAAK,KAAOG,CAAS,EAC5D,KAAK,mBAAmB,CAC1B,EAEA,eAAeA,EAAmBC,EAAgB,CAC1C,MAAAJ,EAAO,KAAK,MAAM,KAAKA,GAAQA,EAAK,KAAOG,CAAS,EACtDH,IACFA,EAAK,SAAW,KAAK,IAAI,EAAGA,EAAK,SAAWI,CAAM,EAClD,KAAK,mBAAmB,EAE5B,EAEA,WAAY,CACV,KAAK,MAAQ,CAAC,EACd,KAAK,mBAAmB,CAC1B,EAEA,oBAAqB,CACnB,aAAa,QAAQ,OAAQ,KAAK,UAAU,KAAK,KAAK,CAAC,CACzD,EAEA,sBAAuB,CACf,MAAAC,EAAa,aAAa,QAAQ,MAAM,EAC1CA,IACG,KAAA,MAAQ,KAAK,MAAMA,CAAU,EACpC,CACF,CAEJ,CAAC"}